(this.webpackJsonpme=this.webpackJsonpme||[]).push([[0],{14:function(e,t,a){},26:function(e,t,a){e.exports=a(40)},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),c=a(10),s=a(12),i=a(2),u=a(3),m=a(6),h=a(4),p=a(5),d=(a(31),{port:"1337"}),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={apiResponse:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"callAPI",value:function(){var e=this,t=d.port;fetch("http://localhost:"+t).then((function(t){t.json().then((function(t){e.setState({apiResponse:t.data})}))}))}},{key:"UNSAFE_componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){var e=this.state.apiResponse;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.text))}}]),t}(n.Component),b=[{title:"kmom01 - Frontend",text:"Detta \xe4r en Read Me som snart kommer fr\xe5n ett API"},{title:"kmom02 - UX",text:"Text om UX som jag ej vet var det tog v\xe4gen. Snart fr\xe5n ett API"}],E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={rep:b},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"callAPI",value:function(){var e=this,t=this.props.match;fetch("http://localhost:1337/reports/week/"+t.params.repWeek,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(t){t.json().then((function(t){e.setState({report:t})}))}))}},{key:"UNSAFE_componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){var e=this.state.rep[this.props.match.params.repWeek];return r.a.createElement("div",null,r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.text),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("i",null,"Bug! You have to click Reports to be able to fetch another report. ")))}}]),t}(n.Component),g=a(11),v=(a(14),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={errors:""},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData(e.target),n=d.port;fetch("http://localhost"+n+"/reports",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){201===e.status?(console.log("added"),t.props.history.push("/reports")):console.log("error")}))}},{key:"render",value:function(){var e=this.state,t=(e.fields,e.errors);return r.a.createElement("div",null,r.a.createElement("h1",null,"Add report "),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("span",{className:"field-error-form"},t.form),r.a.createElement("label",{className:"input-label"},"Title"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"title"}),r.a.createElement("span",{className:"field-error"},t.title),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("textarea",{className:"input-textarea",type:"text",name:"text"}),r.a.createElement("span",{className:"field-error"},t.text),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"Submit"},"OK ")))}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={rep:b,apiResponse:"",reports:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"callAPI",value:function(){var e=this,t=this,a=d.port;fetch("http://localhost:"+a+"/reports").then((function(e){e.json().then((function(e){t.setState({reports:e})}))})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"UNSAFE_componentWillMount",value:function(){this.callAPI()}},{key:"render",value:function(){var e=this.props.match,t=this.state.rep.map((function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(c.b,{to:"".concat(e.url,"/week/").concat(a)}," ",t.title))}));return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Reports"),r.a.createElement("ul",{className:"menu"},t,r.a.createElement("li",null,r.a.createElement(c.b,{to:"".concat(e.url,"/admin")}," Admin"))),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"".concat(e.path,"/admin"),component:v}),r.a.createElement(s.a,{path:"".concat(e.path,"/week/:repWeek"),component:E})))}}]),t}(n.Component),O=a(25),j=(a(37),a(16)),S=["january","february","mars","april","may","june","july","august","september","october","november","december"],w=(a(38),function(e){for(var t=(new Date).getFullYear(),a=[],n=1930;n<t;n++)a.push(n);return a.reverse(),a.map((function(e,t){return r.a.createElement("option",{key:t},e)}))}),C=function(){return S.map((function(e,t){return r.a.createElement("option",{key:t,value:t},e)}))},k=function(e){for(var t=[],a=1;a<=e.calendar[e.currMonth];a++)t.push(a);return t.map((function(e,t){return r.a.createElement("option",{key:t},e)}))},N=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleDateChange=function(e){var t=e.target,n=parseInt(t.value),r=t.name;if(a.setState(Object(j.a)({},r,n)),"number"===typeof a.state.currDay){var l=a.state,o=new Date(l.currYear,l.currMonth,l.currDay);a.setState({date:o}),console.log(o);try{a.props.handleChange("birthday",o)}catch(c){console.log("not running through form")}}},a.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},a.getDays=function(e,t){var n=a.isLeapYear(e),r=30;return t%2===0&&t<=6||t%2!==0&&t>=7?r=31:1===t&&n?(console.log("leapyear!"),r=29):r=1===t?28:30,r},a.getCalendar=function(){for(var e=a.state.currYear,t=[],n=0;n<12;n++)t.push(a.getDays(e,n));return t},a.getMonth=function(e){return S[e]};var n=new Date;return a.initialState={date:"",currYear:n.getFullYear(),currMonth:n.getMonth(),currDay:"pick a day",currDays:""},a.state=a.initialState,a.handleDateChange=a.handleDateChange.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currYear,a=e.currMonth,n=e.currDay,l=this.getCalendar(),o=this.getMonth(this.state.currMonth);return r.a.createElement("div",null,r.a.createElement("p",null,"Selected birthday: ",this.state.currYear,", ",o,", ",this.state.currDay),r.a.createElement("select",{className:"dp-select",value:this.state.currYear,name:"currYear",onChange:this.handleDateChange},r.a.createElement(w,{currYear:t})),r.a.createElement("select",{className:"dp-select",value:this.state.currMonth,name:"currMonth",onChange:this.handleDateChange},r.a.createElement(C,{currMonth:a})),r.a.createElement("select",{className:"dp-select",value:this.state.currDay,name:"currDay",onChange:this.handleDateChange},r.a.createElement(k,{calendar:l,currMonth:a,currYears:t,currDay:n})))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e,t){var n=a.state.fields;"birthday"===e?(console.log(t),console.log(e),n[e]=t,a.setState({fields:n})):(console.log(e),n[e]=t.target.value,a.setState({fields:n}))},a.handleValidation=function(){var e=a.state,t=e.fields,n=e.errors,r=!0;for(var l in t){t[l]||(console.log("n\xe5got \xe4r tomt och det \xe4r "+l),r=!1,n[l]="Cannot be empty")}if("undefined"!==typeof t.email){var o=t.email.lastIndexOf("@"),c=t.email.lastIndexOf(".");o<c&&o>0&&-1===t.email.indexOf("@@")&&c>2&&t.email.length-c>2||(r=!1,n.email="Email is not valid")}var s=t.password;return s.match(/[a-z]/g)||s.match(/[A-Z]/g)||s.match(/[0-9]/g)||s.match(/[^a-zA-Z\d]/g)||!(!s.length>=8)||(r=!1,n.password="Password is not valid"),a.setState({errors:n}),r},a.emptyErrors=function(e){var t=a.state.errors;t[e]="",a.setState({errors:t})},a.onFormSubmit=function(e){e.preventDefault();var t=a.handleValidation(),n=a.state.errors;t?(alert("Thanks! Your friend will be very happy for the virtual flower"),a.props.handleSubmit(a.state.fields),a.setState(a.initialState)):(n.form="Oops! Something went wrong.",a.setState({errors:n}))},a.initialState={fields:{name:"",email:"",birthday:"",password:""},errors:{},hidden:!0},a.state=a.initialState,a.showPassword=a.showPassword.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"showPassword",value:function(){console.log("visa dig")}},{key:"render",value:function(){var e=this.state,t=e.fields,a=e.errors;return r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("span",{className:"field-error-form"},a.form),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Your info"),r.a.createElement("label",{className:"input-label"},"Name"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"text",name:"name",value:t.name,onChange:this.handleChange.bind(this,"name"),onClick:this.emptyErrors.bind(this,"name"),noValidate:!0}),r.a.createElement("span",{className:"field-error"},a.name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{className:"input-label"},"Email"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:"email",name:"email",value:t.email,onChange:this.handleChange.bind(this,"email"),onClick:this.emptyErrors.bind(this,"email"),noValidate:!0}),r.a.createElement("span",{className:"field-error"},a.email)),r.a.createElement("br",null),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Birthday"),r.a.createElement(N,{handleChange:this.handleChange,name:"birthday",value:t.birthday,onClick:this.emptyErrors.bind(this,"birthday")}),r.a.createElement("span",{className:"field-error"},a.birthday)),r.a.createElement("br",null),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Password"),r.a.createElement("p",null,"We will send you an e-mail to confirm user. You will be asked to confirm with this password."),r.a.createElement("label",{className:"input-label"},"Password"),r.a.createElement("br",null),r.a.createElement("input",{className:"input",type:this.state.hidden?"password":"text",name:"password",value:t.password,onChange:this.handleChange.bind(this,"password"),onClick:this.emptyErrors.bind(this,"password"),noValidate:!0}),r.a.createElement("div",{className:"field-psw-info"},"1 uppercase char, 1 lowercase char, 1 digit, 1 special char, min 8 char"),r.a.createElement("br",null),r.a.createElement("span",{className:"field-error"},a.password),r.a.createElement("br",null),r.a.createElement("button",{type:"Submit"},"OK ")))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){var t=d.port;a.setState({user:[].concat(Object(O.a)(a.state.user),[e])}),console.log(a.state.user),fetch("http://localhost:"+t+"/register",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a.state)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return a.setState({error:e,msg:"something error"})})),window.location="/signup"},a.state={user:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.user;return console.log(this.state.user),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Register new user "),r.a.createElement("p",null,"To be able to add reports."),r.a.createElement(D,{handleSubmit:this.handleSubmit,user:e}),r.a.createElement("p",null,"OBS! Beta. Nothing works."))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(j.a)({},r,n))},a.onSubmit=function(e){var t=d.port;e.preventDefault(),fetch("http://localhost:"+t+"/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a.state)}).then((function(e){if(200!==e.status)throw new Error(e.error);console.log("success"),a.props.history.push("/")})).catch((function(e){console.error(e),a.setState({error:"Error logging in please try again"})}))},a.state={email:"",password:"",token:"",error:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h1",null,"Login Below!"),r.a.createElement("p",null,r.a.createElement("span",{className:"field-error-form"},e)),r.a.createElement("legend",null,"E-mail"),r.a.createElement("input",{className:"input",type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleInputChange,required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("legend",null,"Password"),r.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Enter password",value:this.state.password,onChange:this.handleInputChange,required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"Submit"}," LOGIN ")))}}]),t}(n.Component),Y=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"404 Not found"))},A=(a(39),r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"About")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/reports"},"Reports")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/login"},"Login"))),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:f}),r.a.createElement(s.a,{path:"/reports",component:y}),r.a.createElement(s.a,{path:"/register",component:x}),r.a.createElement(s.a,{path:"/login",component:P}),r.a.createElement(s.a,{component:Y})))));o.a.render(A,document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.eebb775e.chunk.js.map